<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>With and Without Closures</title>
	<script>
		function withoutClosure(){
			var date = new Date();
			return date.getMilliseconds()
		};
		
		function withClosure(){
			var date = new Date();
			return function(){
				return date.getMilliseconds()
			}
		};
		
document.addEventListener("DOMContentLoaded", function(){
	var count1 = 0;
	var count2 = 0;
	var box1 = document.getElementById("box1");
	var box2 = document.getElementById("box2");
	
	var si1 = setInterval(function(){
		if(count1 < 5){
			box1.innerHTML += "<h1>"+withoutClosure()+"</h1>";
			count1++
		}else{
			clearInterval(si1)
		}
	},100);
	//---------------------------------------------
	var wc = withClosure();
	var si2 = setInterval(function(){
		if(count2 < 5){
			box2.innerHTML += "<h1>"+wc()+"</h1>";
			count2++
		}else{
			clearInterval(si2)
		}
	},100);
	
});
	</script>
</head>
<body>
	<div id="box1"></div>
	<hr/>
	<div id="box2"></div>
</body>
</html>